<!DOCTYPE html>

<html lang="en-us" class="has-ttn-navbar-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <meta name="generator" content="Hugo 0.88.1" />

  <title>LoRaWAN Architecture | The Things Network</title>
  <link rel="canonical" href="https://www.thethingsnetwork.org/docs/lorawan/architecture/" />
  

  <link rel="apple-touch-icon-precomposed" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png">

  <meta name="msapplication-TileColor" content="#FFFFFF">
  <meta name="msapplication-TileImage" content="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png">

  <meta name="application-name" content="The Things Network">
  <meta name="msapplication-tooltip" content="Tooltip">
  <meta name="msapplication-config" content="https://ttnweb.azureedge.net/static/common/favicon/ieconfig.54334a5ee30c.xml">

  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-32.61b30f85680a.png" sizes="32x32">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-57.83b86c64dc82.png" sizes="57x57">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-76.7dcf8fa36dfc.png" sizes="76x76">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-96.27ac17adaa8b.png" sizes="96x96">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-120.e1526731335e.png" sizes="120x120">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-128.fabea041224c.png" sizes="128x128">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png" sizes="144x144">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png" sizes="152x152">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-180.fcd414307ca3.png" sizes="180x180">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-195.c55ce09d66da.png" sizes="195x195">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-228.bea53ec4b10b.png" sizes="228x228">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/smalltile.fabea041224c.png" sizes="128x128">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/mediumtile.3d42f7faac82.png" sizes="270x270">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/widetile.3d42f7faac82.png" sizes="558x270">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/largetile.eb144ebab4d1.png" sizes="558x558">
  <link rel="shortcut icon" sizes="196x196" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-196.277278d69ddc.png">
  <link rel="stylesheet" href="https://www.thethingsnetwork.org/docs/css/theme.min.1a1a30812d4274d8616380644cbf1670d6a3bc91fc7bd1d2c1d89177ea3d75f9.css" integrity="sha256-GhowgS1CdNhhY4BkTL8WcNajvJH8e9HSwdiRd&#43;o9dfk=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://www.thethingsnetwork.org/static/common/css/ui.css" crossorigin="anonymous">

  <meta property="og:title" content="LoRaWAN Architecture" />
<meta property="og:description" content="We are building a global open free crowdsourced long range low power IoT data network" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/lorawan/architecture/" /><meta property="og:image" content="https://www.thethingsnetwork.org/docs/architecture.png" /><meta property="og:site_name" content="The Things Network" />



  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.thethingsnetwork.org/docs/architecture.png"/>

<meta name="twitter:title" content="LoRaWAN Architecture"/>
<meta name="twitter:description" content="We are building a global open free crowdsourced long range low power IoT data network"/>


</head>


<body>

<ttn-header class="theme-ttn"></ttn-header><section class="section">
  <div class="container">
    <nav class="breadcrumb has-dot-separator" aria-label="breadcrumbs">
      <ul>
        
        
          <li><a href="https://www.thethingsnetwork.org/docs">Learn</a></li>
          
          
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
              <li class="is-active">
                <a href="https://www.thethingsnetwork.org/docs/lorawan/">LoRaWAN®</a>
              </li>
            
          
              <li class="">
                <a href="https://www.thethingsnetwork.org/docs/quick-start/">Quick Start</a>
              </li>
            
          
              <li class="">
                <a href="https://www.thethingsnetwork.org/docs/applications-and-integrations/">Applications &amp; Integrations</a>
              </li>
            
          
              <li class="">
                <a href="https://www.thethingsnetwork.org/docs/devices-and-gateways/">Devices &amp; Gateways</a>
              </li>
            
          
              <li class="">
                <a href="https://www.thethingsnetwork.org/docs/the-things-stack/">Migrating to The Things Stack Community Edition</a>
              </li>
            
          
              <li class="">
                <a href="https://www.thethingsnetwork.org/docs/v2-docs/">V2 Docs (Outdated)</a>
              </li>
            
          
        
      </ul>
    </nav>
    
  </div>
</section>
<div class="container" role="document">
  <div class="columns my-0 is-desktop">
    <div class="column is-3-desktop sidebar-left">
      


<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">LoRaWAN®</h2>

<div class="menu">
  <ul class="menu-list">
  <a href="https://www.thethingsnetwork.org/docs/lorawan/" class="">Overview</a>
  
    <p class="menu-label">
      The Things Fundamentals
    </p>
    
      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/what-is-lorawan/" class="">What are LoRa and LoRaWAN?</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/architecture/" class="is-active">LoRaWAN Architecture</a>
  



  
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/regional-parameters/" class="">Regional Parameters</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/message-types/" class="">Message Types</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/security/" class="">Security</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/classes/" class="">Device Classes</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/end-device-activation/" class="">End Device Activation</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/spreading-factors/" class="">Spreading Factors</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/adaptive-data-rate/" class="">Adaptive Data Rate</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/limitations/" class="">Limitations</a>
</li>

  
    <p class="menu-label">
      Additional Information
    </p>
    
      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/frequencies-by-country/" class="">Frequency Plans by Country</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/frequency-plans/" class="">Frequency Plans</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/duty-cycle/" class="">Duty Cycle</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/glossary/" class="">Glossary</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/modulation-data-rate/" class="">Modulation &amp; Data Rate</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/addressing/" class="">Addressing &amp; Activation</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/academic/" class="">Academic Research</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/prefix-assignments/" class="">NetID and DevAddr Prefix Assignments</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/lorawan/preparing-certification/" class="">Preparing for The Things Certification</a>
</li>

  
  </ul>
</div>





</nav>

    </div>
    <div class="column is-9-desktop sidebar-middle">
      <div class="docs-content">
        <h1 class="title is-size-2">
          LoRaWAN Architecture
        </h1>
        <div class="content">
          
<p>LoRaWAN is a media access control (MAC) protocol for wide area networks. It is designed to allow low-powered devices to communicate with Internet-connected applications over long range wireless connections. LoRaWAN can be mapped to the second and third layer of the OSI model. It is implemented on top of LoRa or FSK modulation in industrial, scientific and medical (ISM) radio bands. The LoRaWAN protocols are defined by the LoRa Alliance and formalized in the LoRaWAN Specification which can be downloaded on the LoRa Alliance website.</p>
<p><img src="architecture.png" alt="LoRaWAN Overview">
<em>Image: LoRaWAN Architecture</em></p>
<ul>
<li>
<p><strong><a href="/docs/devices/">End Device, Node, Mote</a></strong> - an object with an embedded low-power communication device.</p>
</li>
<li>
<p><strong><a href="/docs/gateways/">Gateway</a></strong> - antennas that receive broadcasts from End Devices and send data back to End Devices.</p>
</li>
<li>
<p><strong><a href="/docs/network/">Network Server</a></strong> - servers that route messages from End Devices to the right Application, and back.</p>
</li>
<li>
<p><strong><a href="/docs/applications/">Application</a></strong> - a piece of software, running on a server.</p>
</li>
</ul>
<p>End devices communicate with nearby gateways and each gateway is connected to the network server. LoRaWAN networks use an ALOHA based protocol, so end devices don’t need to peer with specific gateways. Messages sent from end devices travel through all gateways within range. Message deduplication is handled by the network server.</p>
<p>Let’s examine each element of the LoRaWAN network in detail.</p>
<h3 id="end-devices">End devices&nbsp;<a class="header-hash" href="#end-devices">#</a> </h3>
<p>A LoRaWAN end device can be a sensor, an actuator, or both. They are often battery operated. These end devices are wirelessly connected to the LoRaWAN network through gateways using LoRa RF modulation. The following figure shows an example LoRaWAN end device - a water meter.</p>
<p><img src="end-node.png" alt="alt_text" title="End-node"></p>
<h3 id="gateways">Gateways&nbsp;<a class="header-hash" href="#gateways">#</a> </h3>
<p>Each gateway is registered to a LoRaWAN network. A gateway receives LoRa messages from end devices and simply forwards them to the LoRaWAN network server. Gateways are connected to the internet through an IP backbone. IP traffic from gateway to the network server can be <strong>backhauled</strong> through Cellular (3G/4G/5G), WiFi, Ethernet, Fiber-optic or 2.4 GHz radio links.</p>
<h4 id="types-of-lorawan-gateways">Types of LoRaWAN Gateways&nbsp;<a class="header-hash" href="#types-of-lorawan-gateways">#</a> </h4>
<p>LoRaWAN gateways can be categorized into indoor (picocell) and outdoor (macrocell) gateways. Indoor gateways provide coverage in difficult-to-reach indoor locations and are therefore suitable for use in homes, businesses and buildings.</p>
<p><img src="ttig.jpg" alt="alt_text" title="The Things Indoor Gateway"></p>
<p><em>Figure: The Things Indoor gateway</em></p>
<p>Outdoor gateways are suitable for providing coverage in rural, urban, and dense urban areas. This type of gateway is intended for deployment places like cellular towers, the rooftops of very tall buildings, metal pipes (masts) etc. The following figure shows a LoRaWAN gateway attached to a tall metal pipe (mast).</p>
<p><img src="kerlink-outdoor.jpeg" alt="alt_text" title="Kerlink outdoor gateway"></p>
<p><em>Figure: A Kerlink outdoor gateway is installed at the port of Amsterdam.</em></p>
<p>Usually, the receiver sensitivity of an outdoor gateway is higher than the receiver sensitivity of an indoor gateway.</p>
<h3 id="network-server">Network Server&nbsp;<a class="header-hash" href="#network-server">#</a> </h3>
<p>The network server manages the entire LoRaWAN network. It receives IP traffic from gateways. The Network Server is responsible for network management functions like:</p>
<ul>
<li><strong>Over-The-Air-Activation</strong> - see chapter <a href="../end-device-activation">End Device Activation</a></li>
<li><strong>Message deduplication</strong> - eliminating duplicate messages received by multiple gateways</li>
<li><strong>Message routing</strong> - forwarding uplink application payloads to the appropriate application server, forwarding downlink messages coming from any application server to the end device, forwarding Join-request and Join-accept messages between the devices and the join server (in v1.1 and 1.0.4).</li>
<li><strong>Adaptive data rate control</strong> - see chapter <a href="../adaptive-data-rate">Adaptive Data Rate</a></li>
<li><strong>Acknowledgement of messages</strong> - providing acknowledgement of confirmed data messages and some MAC commands.</li>
</ul>
<h3 id="application-server">Application Server&nbsp;<a class="header-hash" href="#application-server">#</a> </h3>
<p>The application server processes application-specific data messages received from end devices. It also generates all the application-layer downlink payloads and sends them to the connected end devices through the network server. A LoRaWAN network can have more than one application server. The collected data can be interpreted by applying techniques like machine learning and artificial intelligence to solve business problems.</p>
<h3 id="join-server">Join Server&nbsp;<a class="header-hash" href="#join-server">#</a> </h3>
<p>The Join Server processes join-request messages sent by end devices. It stores root keys, generates session keys, and transfers those session keys to the network server and the application server. The Join Server is introduced in LoRaWAN 1.1 and 1.0.4. You will learn how the Join Server processes the join-request message in the chapter <a href="../end-device-activation">End Device Activation</a>.</p>
<h2 id="questions">Questions&nbsp;<a class="header-hash" href="#questions">#</a> </h2>
<ol>
<li>
<p>Who initiates uplink messages?</p>
<ul>
<li>Network server</li>
<li><span style="text-decoration:underline;">End devices</span></li>
<li>Application server</li>
<li>Join server</li>
</ul>
</li>
<li>
<p>What is not a role of the Network Server?</p>
<ul>
<li>Data deduplication</li>
<li><span style="text-decoration:underline;">Initiate uplink messages</span></li>
<li>Adaptive data rate control</li>
<li>Message routing</li>
</ul>
</li>
<li>
<p>Which is not a backhaul for gateways?</p>
<ul>
<li>Cellular</li>
<li>WiFi</li>
<li>Ethernet</li>
<li><span style="text-decoration:underline;">Grounding wire with a lightning arrestor</span></li>
</ul>
</li>
<li>
<p>The Application server processes:</p>
<ul>
<li>MAC commands</li>
<li><span style="text-decoration:underline;">Application-specific data messages</span></li>
<li>Join-request messages</li>
</ul>
</li>
<li>
<p>The Join Server processes:</p>
<ul>
<li><span style="text-decoration:underline;">Join-request messages</span></li>
<li>MAC commands</li>
<li>Application-specific data messages</li>
</ul>
</li>
</ol>


        </div>
      
      




  

  
    
    
  

  

  

  

  

  

  

  

  


<div class="is-clearfix">
<a class="button is-pulled-left" href="/docs/lorawan/what-is-lorawan/">← What are LoRa and LoRaWAN?</a>
<a class="button is-pulled-right" href="/docs/lorawan/regional-parameters/">Regional Parameters →</a>
</div>

      </div>
    </div>
  </div>
</div>


<div class="ttn-footer"><ttn-footer class="theme-ttn"></ttn-footer></div>

<script src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
<script src="https://www.thethingsnetwork.org/static/common/js/web-components/ttn-header.js"></script>
<script src="https://www.thethingsnetwork.org/static/common/js/web-components/ttn-footer.js"></script>
<script src="https://ttnweb.azureedge.net/static/common/js/ga.js"></script>
<script src="https://www.thethingsnetwork.org/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsnetwork.org/docs/js/theme.min.00ace5d667ca108a93b8a0d385569f7c7bb9f46ed32eefe3f5fb39105763cccd.js" integrity="sha256-AKzl1mfKEIqTuKDThVaffHu59G7TLu/j9fs5EFdjzM0=" crossorigin="anonymous"></script>

</body>

</html>
